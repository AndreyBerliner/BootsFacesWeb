<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:composition template="/applayout/pageTemplate.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:b="http://bootsfaces.net/ui" xmlns:ui="http://java.sun.com/jsf/facelets">

        <ui:define name="content">
            <h1>CommandButton</h1>
                 <p>The <code>&lt;b:commandButton /&gt;</code> tag extends the standard <code>&lt;h:commandButton /&gt;</code> with <a href="ajax.jsf">AJAX</a><A></A>, partial processing features
                and <a href="searchExpressions.jsf">improved search expressions</a>.</p>
                
                <h3>Basic usage</h3>
                <p>The BootsFaces command button is used similarly to the PrimeFaces command button:</p>
                <b:well>
                <script type="syntaxhighlighter" class="brush: xml; toolbar: false;gutter: false; first-line: 1">
<![CDATA[
                    <b:commandButton value="click me!" ajax="true" update="@next"
                                     actionListener="&num;{myBean.listener}" action="&num;{myBean.navigate}" />
 ]]> </script>             
 				</b:well>
 				<ul>
 				<li>By default, AJAX is deactivated. You can activate it by setting <code>ajax="true"</code>.</li>
 				<li>Instead of the <code>render</code> attribute of standard JSF, BootsFaces follows the 
 				PrimeFaces tradition and uses the attribute <code>update</code> to define which region of
 				the HTML page is to be updated.</li>
 				<li>The <code>update</code> attributes supports the full range of BootsFaces search expressions,
 				such as <code>@next</code>, <code>@parent</code> and so on. 
 				See <a href="searchExpressions.jsf">the page on improved search expressions</a> for more details.</li>
 				<li>The <code>actionListener</code> is a Java method that may or may not take the <code>ActionEvent</code>
 				as attribute. Actionlisteners can trigger navigations.</li>
 				<li>The <code>action</code> is called after the <code>actionlistener</code>. This method may return a
 				String. In that case the result of the method triggers a navigation to another page (unless it returns null).
 				Note that navigations are always non-AJAX, even if the command button is declared as an AJAX button.</li>
 				</ul>
 				
 				<h3>Advanced usage</h3>
 				<p>The command button allows you to freely mix JavaScript calls and AJAX calls in the JavaScript
 				callback attributes. The demo below uses this feature to suppress AJAX calls on simple click or on double clicks if the corresponding
 				check box is set. It also calls Java method when the mouse point enters the command button (<code>onmouseover</code>), 
 				and when it leaves it again (<code>onmouseout</code>):</p>
 				<b:tabView>
 				<b:tab title="live demo">
	 				<b:well>
	                  <h:form id="form1">
	            		<b:selectBooleanCheckbox value="#{commandButtonBean.suppressClick}" label="suppress click (JavaScript)" id="click" />
		         		<b:selectBooleanCheckbox value="#{commandButtonBean.suppressDoubleClick}" label="suppress doubleclick (JavaScript)"
		         		                         id="doubleclick" />
						<b:commandButton value="click me!" ajax="true" update="@next"
							actionListener="#{commandButtonBean.onAction}"
							onclick="var disabled = document.getElementById('form1:click').checked; if (disabled) return false; ajax:commandButtonBean.onAction();javascript:return false;" 
							onmouseover="ajax:commandButtonBean.onMouseOver();"
							onmouseout="ajax:commandButtonBean.onMouseOut();"
							ondblclick="var disabled = document.getElementById('form1:doubleclick').checked; if (disabled) return false;ajax:commandButtonBean.onDoubleClick()" />
						<b:well id="message">
						<p>The last message processed by the server-side Java bean was:</p>
	                    <p>#{commandButtonBean.message}</p>
	                    </b:well>
	                  </h:form>
                  </b:well>
 				</b:tab>
 				<b:tab title="source code">
 				<b:well>
<script type="syntaxhighlighter" class="brush: xml; toolbar: false;gutter: false; first-line: 1"> 				
<![CDATA[
                 <h:form id="form1">
            		<b:selectBooleanCheckbox value="&num;{commandButtonBean.suppressClick}" label="suppress click (JavaScript)" id="click" />
	         		<b:selectBooleanCheckbox value="&num;{commandButtonBean.suppressDoubleClick}" label="suppress doubleclick (JavaScript)"
	         		                         id="doubleclick" />
					<b:commandButton value="click me!" ajax="true" update="@next"
						actionListener="&num;{commandButtonBean.onAction}"
						onclick="var disabled = document.getElementById('form1:click').checked; if (disabled) return false; ajax:commandButtonBean.onAction();javascript:return false;" 
						onmouseover="ajax:commandButtonBean.onMouseOver();"
						onmouseout="ajax:commandButtonBean.onMouseOut();"
						ondblclick="var disabled = document.getElementById('form1:doubleclick').checked; if (disabled) return false;ajax:commandButtonBean.onDoubleClick()" />
					<b:well id="message">
						<p>The last message processed by the server-side Java bean was:</p>
                        <p>&num;{commandButtonBean.message}</p>
                    </b:well>
                 </h:form>
 	 ]]> </script>    
 	 				</b:well>
  				</b:tab>
 				</b:tabView>
 				
                <h3>Icons</h3>
                <p>
                    Like Buttons, also CommandButtons can can have an icon adding the attribute
                    <code>icon</code>
                    (on the left or right, default is left).
                </p>
                <p>
                    You can control the icon position by specifying it in the attribute
                    <code>iconAlign</code>
                    .
                </p>
                <p>
                    The Icon attribute will add a Glyphicon icon (Bootstrap's default), but now you can also use a Font Awesome icon using
                    the
                    <code>iconAwesome</code>
                    attribute instead of
                    <code>icon</code>
                    .
                </p>
                <p>
                    Both
                    <code>icon</code>
                    and
                    <code>iconAwesome</code>
                    attributes, require the icon name as value the icon name without the trailing <b>glyphicon-</b> prefix and <b>fa-</b>
                    prefix respectively.
                </p>
                <p>
                    In the example below, the rightmost button has the
                    <code>iconAwesome="thumbs-up"</code>
                    attribute.
                </p>

                <b:tabView>
                    <b:tab title="live preview">
                        <h:form id="form">
                    
                        <b:well>
                            <h3>Personal Information</h3>
                            <h:panelGrid id="inform" columns="3" cellpadding="5">
                                <h:outputLabel for="firstname" value="Firstname: *" />
                                <b:inputText id="firstname" value="#{informBean.firstname}">
                                    <f:validateLength minimum="2" />
                                </b:inputText>
                                <h:message for="firstname" />

                                <h:outputLabel for="familyname" value="Family (surname/last) name: *" />
                                <b:inputText id="familyname" value="#{informBean.familyname}" required="true" />
                                <h:message for="familyname" />
					            <b:fetchBeanInfos />
                            </h:panelGrid>
                        </b:well>
                        <b:row>
                            <b:column span="2">
                                <b:commandButton value="Non-Ajax Submit" />
                            </b:column>
                            <b:column span="2">
                                <b:commandButton value="Ajax Submit" ajax="true" update="form:inform infoshow" look="primary" />
                            </b:column>
                            <b:column span="2">
                                <b:commandButton value="With Icon" ajax="true" update="form:inform infoshow" icon="plus-sign"
                                    look="success" />
                            </b:column>
                            <b:column span="2">
                                <b:commandButton value="Ajax Modal" ajax="true" update="form:inform amodal" look="inverse"
                                    oncomplete="if(validationFailed) alert('Please enter valid input before opening the modal'); else $('#amodal').modal('show')" />
                            </b:column>
                            <b:column span="1">
                                <b:commandButton ajax="true" update="form:inform infoshow" iconAwesome="thumbs-up" 
                                                 look="info" tooltip="Thumbs up!" />
                            </b:column>
                            <b:column span="1">
	                            <b:commandButton ajax="true" update="form:inform infoshow" 
	                                             style="padding: 0; border: none; background: none;color: #000"
	                                             tooltip="This looks like an icon, but it's a commandButton">
								    <b:iconAwesome name="arrow-down"></b:iconAwesome>
								</b:commandButton>
							</b:column>
                            <b:column span="2">
                                <b:commandButton value="I'm disabled" disabled="true" ajax="true"
                                                 iconAwesome="thumbs-down" look="info" title="Disabled!" />
                            </b:column>
                        </b:row>
                        </h:form>
                    </b:tab>
                    <b:tab title="JSF markup (buttons only)">
                      <b:well>
                        <script type="syntaxhighlighter" class="brush: xml; toolbar: false;gutter: false; first-line: 1">
<![CDATA[
                <b:commandButton value="Non-Ajax Submit"/>

                <b:commandButton value="Ajax Submit" ajax="true" update="form:inform infoshow" look="primary" />

                <b:commandButton value="With Icon" ajax="true" update="form:inform infoshow" icon="plus-sign" look="success" />

                <b:commandButton value="Ajax Modal" ajax="true" update="form:inform amodal" look="inverse"
                   oncomplete="if(validationFailed) alert('Please enter valid input before opening the modal'); else $('#amodal').modal('show')" />

                <b:commandButton value="" ajax="true" update="form:inform infoshow" iconAwesome="thumbs-up" look="info" />

                <h:commandButton ajax="true" update="form:inform infoshow" tooltip="This looks like an icon, but it's a commandButton">
			       <b:iconAwesome name="arrow-down"></b:iconAwesome>
			    </h:commandButton>

                <b:commandButton value="I'm disabled" disabled="true" ajax="true" iconAwesome="thumbs-down" look="info" title="Disabled!" />
  ]]></script>
					  </b:well>
					</b:tab>                    
                    <b:tab title="JSF markup (complete example)">
                      <b:well>
                        <script type="syntaxhighlighter" class="brush: xml; toolbar: false;gutter: false; first-line: 1">
<![CDATA[
            <b:well>
              <h3>Personal Information</h3>
              <h:panelGrid id="inform" columns="3" cellpadding="5">
                <h:outputLabel for="firstname" value="Firstname: *" />
                <b:inputText id="firstname" value="#{informBean.firstname}">
                  <f:validateLength minimum="2" />
                </b:inputText>
                <h:message for="firstname" />

                <h:outputLabel for="familyname" value="Family (surname/last) name: *" />
                <b:inputText id="familyname" value="#{informBean.familyname}" required="true" />
                <h:message for="familyname" />
				<b:fetchBeanInfos />
              </h:panelGrid>
            </b:well>
            <b:row>
              <b:column span="2">
                  <b:commandButton value="Non-Ajax Submit" />
              </b:column>
              <b:column span="2">
                  <b:commandButton value="Ajax Submit" ajax="true" update="form:inform infoshow" look="primary" />
              </b:column>
              <b:column span="2">
                  <b:commandButton value="With Icon" ajax="true" update="form:inform infoshow" icon="plus-sign"
                      look="success" />
              </b:column>
              <b:column span="2">
                  <b:commandButton value="Ajax Modal" ajax="true" update="form:inform amodal" look="inverse"
                      oncomplete="if(validationFailed) alert('Please enter valid input before opening the modal'); else $('#amodal').modal('show')" />
              </b:column>
              <b:column span="1">
                  <b:commandButton ajax="true" update="form:inform infoshow" iconAwesome="thumbs-up" 
                                   look="info" tooltip="Thumbs up!" />
              </b:column>
              <b:column span="1">
                  <b:commandButton ajax="true" update="form:inform infoshow" 
                                   style="padding: 0; border: none; background: none;color: #000"
                                   tooltip="This looks like an icon, but it's a commandButton">
	                  <b:iconAwesome name="arrow-down"></b:iconAwesome>
	              </b:commandButton>
              </b:column>
              <b:column span="2">
                  <b:commandButton value="I'm disabled" disabled="true" ajax="true"
                                   iconAwesome="thumbs-down" look="info" title="Disabled!" />
              </b:column>
            </b:row>
            <b:well id="infoshow">
                <strong>Submitted information:</strong>
                <h:panelGrid columns="2">
                    <h:outputText value="Firstname: " />
                    <h:outputText value="#{informBean.firstname}" />
  
                    <h:outputText value="Family (surname/last) name: " />
                    <h:outputText value="#{informBean.familyname}" />
                </h:panelGrid>
            </b:well>
            <b:modal id="amodal" title="Person">
                <h:panelGrid columns="2">
                    <h:outputText value="Firstname: " />
                    <h:outputText value="#{informBean.firstname}" />
  
                    <h:outputText value="Family (surname/last) name: " />
                    <h:outputText value="#{informBean.familyname}" />
                </h:panelGrid>
                <f:facet name="footer">
                    <b:button value="close" dismiss="modal" onclick="return false;" />
                    <b:button value="Ok" look="primary" />
                </f:facet>
            </b:modal>
  ]]></script>
                       </b:well>
                    </b:tab>
                </b:tabView>

            <br />
            <b:well id="infoshow">
                <strong>Submitted information:</strong>
                <h:panelGrid columns="2">
                    <h:outputText value="Firstname: " />
                    <h:outputText value="#{informBean.firstname}" />

                    <h:outputText value="Family (surname/last) name: " />
                    <h:outputText value="#{informBean.familyname}" />
                </h:panelGrid>
            </b:well>
            <b:modal id="amodal" title="Person">
                <h:panelGrid columns="2">
                    <h:outputText value="Firstname: " />
                    <h:outputText value="#{informBean.firstname}" />

                    <h:outputText value="Family (surname/last) name: " />
                    <h:outputText value="#{informBean.familyname}" />
                </h:panelGrid>
                <f:facet name="footer">
                    <b:button value="close" dismiss="modal" onclick="return false;" />
                    <b:button value="Ok" look="primary" />
                </f:facet>
            </b:modal>
            
                <br/>
                <h2>Reference section</h2>
                <ui:include src="CommandButtonAttributes.xhtml" />
                <b:panel look="info">
					<f:facet name="heading">
						<b>Skinning</b>
					</f:facet>
					<p>A <code>&lt;b:commandButton /&gt;</code> is rendered as an HMTL <code>&lt;button /&gt;</code> bearing the CSS class <code>btn</code>.
					Depending on the value of the <code>look</code> attribute, the button also bears one of the CSS classes <code>btn-primary</code>, 
					<code>btn-block</code>, 
					<code>btn-info</code>, 
					<code>btn-success</code>, 
					<code>btn-warning</code>, 
					<code>btn-important</code> or
					<code>btn-danger</code>.
					</p>
				</b:panel>
            
            <script type="text/javascript">
                SyntaxHighlighter.all();
            </script>
            <br />
            <br />
            <br />
            <br />
        </ui:define>
    </ui:composition>
