<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:composition template="/applayout/pageTemplate.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:define name="content">
		<style>
td {
	padding: 8px;
}
</style>
		<h1>Poll (&lt;b:poll &gt;)</h1>

		<p>
			<code>&lt;b:poll /&gt;</code>
			refreshes a part of the screen periodically. It can also call an <code>action</code> or an <code>actionListener</code>.
		</p>
		<h1>Basic usage</h1>
		<b:panel look="info" title="Demo">
			<b:panelGrid colSpans="6,6">
			<h:form id="timeFormId">
				<b:poll id="pippo" interval="3000" 
		            update="timeFormId:worldTimeId" 
		            execute="timeFormId:worldTimeId" 
		            actionListener="#{pollDemoBean.listener}"/>
				<b:panelGrid colSpans="4,6,2" id="worldTimeId">
					<h:outputText value="Current time:" />
					<h:outputText value="#{pollDemoBean.currentTime}" />
					<h:outputText value="" />
					<h:outputText value="Counter:" />
					<h:inputText value="#{pollDemoBean.counter}" />
					<h:outputText value="" />
				</b:panelGrid>
			</h:form>
			<div>
			<script type="syntaxhighlighter"
				class="brush: xml; toolbar: false;gutter: false; first-line: 1">
<![CDATA[
<h:form>
	<b:poll interval="3000" 
            update="worldTimeId" 
            execute="worldTimeId" 
            actionListener="&num;{pollDemoBean.listener}"/>
	<b:panelGrid colSpans="4,6,2" id="worldTimeId">
		<h:outputText value="Current time:" />
		<h:outputText value="&num;{pollDemoBean.currentTime}" />
		<h:outputText value="" />
		<h:outputText value="Counter:" />
		<h:inputText value="&num;{pollDemoBean.counter}" />
		<h:outputText value="" />
	</b:panelGrid>
</h:form>
]]>
       </script>
       </div>
			</b:panelGrid>
		</b:panel>
		
		<b:panel look="danger">
		  If <code>&lt;b:poll /&gt;</code> is inside the region it updates, you have to set the attribute <code>once="true"</code>. Otherwise,
		  <code>&lt;b:poll /&gt;</code> is initialized over and over again and starts to send more and more polls until your server is saturated.
		</b:panel>
		<b:panel look="info" title="Using the attribute once">
			<b:panelGrid colSpans="6,6">
			<h:form>
				<b:poll id="pluto" interval="2000" 
				        update="@form" 
				        execute="@form" 
				        once="true"
				        actionListener="#{pollDemoBean.listener}"/>
				<b:panelGrid colSpans="4,6,2">
					<h:outputText value="Current time:" />
					<h:outputText value="#{pollDemoBean.currentTime}" />
					<h:outputText value="" />
					<h:outputText value="Counter:" />
					<h:inputText value="#{pollDemoBean.counter}" />
					<h:outputText value="" />
				</b:panelGrid>
			</h:form>
			<div>
			<script type="syntaxhighlighter"
				class="brush: xml; toolbar: false;gutter: false; first-line: 1">
<![CDATA[
<h:form>
	<b:poll interval="2000" 
            update="@form" 
            execute="@form" 
			once="true"
            actionListener="&num;{pollDemoBean.listener}"/>
	<b:panelGrid colSpans="4,6,2">
		<h:outputText value="Current time:" />
		<h:outputText value="&num;{pollDemoBean.currentTime}" />
		<h:outputText value="" />
		<h:outputText value="Counter:" />
		<h:inputText value="&num;{pollDemoBean.counter}" />
		<h:outputText value="" />
	</b:panelGrid>
</h:form>
]]>
       </script>
       </div>
			</b:panelGrid>
		</b:panel>

		<b:panel look="info">
			<f:facet name="heading">
				<b>Attributes of &lt;b:poll &gt;</b>
			</f:facet>
				<table class="table table-striped table-hover"
					style="background-color: #fff">
					<thead>
						<tr>
							<th>Attribute</th>
							<th>Default value</th>
							<th>Description</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>interval</td>
							<td>1000</td>
							<td>How often is the poll action to be called? Denotes the number of milliseconds between polls.</td>
						</tr>
						<tr>
							<td>once</td>
							<td>false</td>
							<td>If true, the poll is called only once.</td>
						</tr>
						<tr>
							<td>update</td>
							<td>@form</td>
							<td>Which region of the screen is to be updated?</td>
						</tr>
						<tr>
							<td>execute</td>
							<td>@none</td>
							<td>Which input fields are to be sent?</td>
						</tr>
						<tr>
							<td>actionListener</td>
							<td>none</td>
							<td>Calls an action listener in the JSF bean.</td>
						</tr>
						<tr>
							<td>action</td>
							<td>none</td>
							<td>Calls a JSF bean method and initiates a navigation.</td>
						</tr>
					</tbody>
				</table>
		</b:panel>
		<b:poll interval="3000" update="WorldTimeId" execute="WorldTimeId" actionListener="#{pollDemoBean.listener}"/>

		<script type="text/javascript">
      SyntaxHighlighter.all();
    </script>
		<br />
		<br />
		<br />
		<br />
	</ui:define>
</ui:composition>
